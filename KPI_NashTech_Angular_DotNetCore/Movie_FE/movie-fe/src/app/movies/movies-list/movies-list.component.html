<div class="container">
<app-general-list [list]="movies">
  <ng-container content>
    <div class="movies-container">
      <div
        *ngFor="let movie of movies; let index = index"
        class="movie-container"
      >
        <a           
          [routerLink] ="'/movies/' + movie.id">
          <img [src]="movie.poster" alt="Poster" />
        </a>
        <p style="width: 200px; padding-left: 8px;">
          <a class="title" [routerLink] ="'/movies/' + movie.id">{{movie.title}}</a>
        </p>
        <p >
          <a class="title" [routerLink] ="'/movies/' + movie.id"><span style="color: limegreen;">Release date:</span> {{ movie.releaseDate| date}}</a>
        </p>          
        
        <app-authorize-view [role]="'admin'">
          <ng-container authorized>
            <div>            
              <div style="display: inline;margin-left: 20px;">
                <mat-icon mat-flat-button color="primary" [routerLink]="'/movies/edit/' + movie.id">settings</mat-icon>
              </div>    
              <div style="display: inline; margin-left: 10px;">
                <mat-icon
                  mat-flat-button color="warn" type="button"
                  [swal]="{title: 'Confirmation', text: 'Are you sure you want to delete this?',
                  showCancelButton: true}"
                  (confirm)="remove(movie.id)"
                >delete_forever</mat-icon>
              </div>    
            </div>
          </ng-container>
      </app-authorize-view>
        <app-authorize-view [role]="'manager'">
          <ng-container authorized>
            <div>
              <div style="display: inline;">
                <mat-icon mat-flat-button color="primary" [routerLink]="'/movies/edit/' + movie.id">settings</mat-icon>
              </div>    
              <div style="display: inline; margin-left: 10px;">
                <mat-icon
                  mat-flat-button color="warn" type="button"
                  [swal]="{title: 'Confirmation', text: 'Are you sure you want to delete this?',
                  showCancelButton: true}"
                  (confirm)="remove(movie.id)"
                >delete_forever</mat-icon>
              </div>    
            </div>
          </ng-container>
      </app-authorize-view>
        
      </div>
    </div>
  </ng-container>
</app-general-list>
</div>
